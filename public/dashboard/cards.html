<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonora</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/cards.css">
    <link rel="stylesheet" href="../css/loading.css">
</head>
<body>
    <div id="loading"></div>
    <header>
        <a href="#"><img src="../assets/logo_sonora.svg" class="logo"></a>

        <nav>
            <ul>
                <li class="link-nav sec-atual"><a href="../index.html">Home</a>
                <!-- <li><a class="link-nav" href="#">Line-up</a>
                <li><a class="link-nav" href="dashboard.html">Dashboard</a> -->
                <li>
                    <a href="../index.html">
                        <button onclick="limparSessao()">Sair</button>
                    </a>
            </ul>
        </nav>
    </header>

    <main>
        <h1 id="nome">Bem vindo(a), <span id="span_nome_usuario"></span></h1>
        <section id="section-cards" class="section-cards">
            <a href="dashboard.html">
                <div class="card">The town</div>
            </a>
            <div class="card-adicionar">+</div>
        </section>
    </main>

    <footer>
        <section>   
            <img src="../assets/logo_sonora.svg" class="logo">

            <address>
                <strong>Sonora</strong><br>
                Haddock Lobo, 595 - Cerqueira César<br>
                São Paulo, SP - Brasil
            </address>

            <div>
                <img src="../assets/icon/redes/instagram.svg" class="icone-rede">
                <img src="../assets/icon/redes/facebook.svg" class="icone-rede">
                <img src="../assets/icon/redes/whatsapp.svg" class="icone-rede">
            </div>

            <small>© 2025 Sonora. Todos o direitos reservados.</small>
        </section>

        <aside>
            <h4>Newsletters</h4>
            <p>Fique por dentro das últimas novidades da música</p>

            <div>
                <input placeholder="seu@email.com">

                <button>
                    Inscreva-se
                </button>
            </div>

            <small>Ao se inscrever, você concorda em receber nossos e-mails e está de acordo com os nossos Termos e
                Condições.</small>
        </aside>
    </footer>
    <script src="../js/sessao.js"></script>
    <script>
        span_nome_usuario.innerText = sessionStorage.NOME_USUARIO
    </script>
    <!-- <script>
        // Coloque as funções no escopo global
        window.carregarInfoUsuario = function() {
            let elementoNome = document.getElementById('nome');
            if (elementoNome && sessionStorage.NOME_USUARIO) {
                elementoNome.innerText += `, ${sessionStorage.NOME_USUARIO}. Acompanhe suas Line Up's`;
            }
        
            // Verifica se LINEUPS existe
            if (!sessionStorage.LINEUPS) {
                console.error('Nenhuma lineup encontrada no sessionStorage');
                return;
            }
            
            try {
                const lineupsData = JSON.parse(sessionStorage.LINEUPS);
                const lineups = {};
                
                lineupsData.forEach(item => {
                    if (!lineups[item.nomeLineup]) {
                        lineups[item.nomeLineup] = {
                            nome: item.nomeLineup,
                            artistas: []
                        };
                    }
                    lineups[item.nomeLineup].artistas.push(item);
                });
                
                const sectionCards = document.getElementById('section-cards');
                if (!sectionCards) return;
                
                sectionCards.innerHTML = ''; 
                
                for (const lineupName in lineups) {
                    const lineup = lineups[lineupName];
                    // Corrigido: usando escape adequado para strings JSON
                    const lineupJson = JSON.stringify(lineup.nome).replace(/"/g, '&quot;');
                    
                    sectionCards.innerHTML += `
                    <div onclick="entrarNaDash(${lineupJson})" class="card">${lineup.nome}</div>
                    `;
                }
    
                sectionCards.innerHTML += `
                    <div class="card-adicionar">+</div>
                `;
            } catch (e) {
                console.error('Erro ao processar lineups:', e);
            }
        }
    
        // Função global para acessar a dashboard
        window.entrarNaDash = function(lineup) {
            try {
                // Remove aspas extras se existirem (devido ao JSON.stringify)
                lineup = lineup.replace(/^"|"$/g, '');
                sessionStorage.LINEUPSELECIONADA = lineup;
                window.location = 'dashboard.html';
            } catch (e) {
                console.error('Erro ao acessar dashboard:', e);
            }
        }
    
        validarSessao();
        carregarInfoUsuario();
    </script> -->
</body>

</html>